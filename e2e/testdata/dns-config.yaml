dnsSettings:
  dnsServerDomain: "e2e-test.local"
  dnsServerLocalEndPoints:
    - "0.0.0.0:53"
  defaultRecordTtl: 300
  defaultNsRecordTtl: 3600
  defaultSoaRecordTtl: 900
  dnssecValidation: false
  enableBlocking: false
  preferIPv6: false
  udpPayloadSize: 1232
  qpmLimitRequests: 0
  qpmLimitErrors: 0
  clientTimeout: 2000
  resolverRetries: 2
  resolverTimeout: 2000
  resolverConcurrency: 4
  forwarderRetries: 2
  forwarderTimeout: 2000
  forwarderConcurrency: 10
  concurrentForwarding: true
  serveStale: true
  serveStaleTtl: 86400
  cacheNegativeRecordTtl: 60
  enableDnsOverHttp: true
  enableDnsOverTls: true
  enableDnsOverHttps: true
  enableDnsOverQuic: true
  loggingType: "FileAndConsole"
  enableLogging: true
  logQueries: false
  useLocalTime: true
  maxLogFileDays: 7
  maxStatFileDays: 365
  recursion: "Allow"
  qpmPrefixLimitsIPv4:
    - prefix: 24
      udpLimit: 600
      tcpLimit: 100
  qpmPrefixLimitsIPv6:
    - prefix: 56
      udpLimit: 600
      tcpLimit: 100
  qpmLimitSampleMinutes: 5
  cachePrefetchEligibility: 2
  cachePrefetchTrigger: 9
  cachePrefetchSampleIntervalInMinutes: 5
  cachePrefetchSampleEligibilityHitsPerHour: 30
  cacheMinimumRecordTtl: 60
  cacheMaximumRecordTtl: 86400
  cacheFailureRecordTtl: 30
  cacheMaximumEntries: 50000
  saveCache: true
  serveStaleAnswerTtl: 30
  serveStaleMaxWaitTime: 1800
  enableDnsOverUdpProxy: true
  enableDnsOverTcpProxy: true
  enableDnsOverHttp3: true
  tsigKeys:
    - keyName: "e2e-external-dns"
      algorithmName: "hmac-sha256"
      sharedSecret: "cHJldGVuZHRoaXNpc2FyZWFsc2VjcmV0a2V5YmFzZTY0"
    - keyName: "e2e-dhcp"
      algorithmName: "hmac-sha256"
      sharedSecret: "YW5vdGhlcnByZXRlbmRzZWNyZXRrZXlmb3JkaGNwdGVzdA=="

zones:
  - zone: "e2e-test.local"
    type: "Primary"
    aclSettings:
      queryAccess: "AllowOnlyPrivateNetworks"
      zoneTransfer: "UseSpecifiedNetworkACL"
      zoneTransferNetworkACL:
        - "172.16.0.0/12"
      zoneTransferTsigKeyNames:
        - "e2e-external-dns"
        - "e2e-dhcp"
      update: "UseSpecifiedNetworkACL"
      updateNetworkACL:
        - "172.16.0.0/12"
      updateSecurityPolicies: "e2e-external-dns|*.e2e-test.local|ANY|e2e-dhcp|*.e2e-test.local|ANY"

records:
  - domain: "www.e2e-test.local"
    type: "A"
    ttl: 300
    ipAddress: "10.0.0.1"

  - domain: "e2e-test.local"
    type: "MX"
    ttl: 300
    exchange: "mail.e2e-test.local"
    preference: 10

  - domain: "e2e-test.local"
    type: "TXT"
    ttl: 300
    text: "v=spf1 -all"

  - domain: "alias.e2e-test.local"
    type: "CNAME"
    ttl: 300
    cname: "www.e2e-test.local"
